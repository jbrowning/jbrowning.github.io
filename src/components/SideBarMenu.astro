---
import ContactButton from "./ContactButton.astro";
const { sideBarActiveItemID, sidebarPreserveActiveItemHref } = Astro.props;
const activeClass = "menu-active";
---

<div class="grow shrink">
  <ul class="menu menu-md w-full overflow-y-auto">
    <li><a class="py-3 text-base" id="home" href="/">Home</a></li>
    <li><a class="py-3 text-base" id="blog" href="/blog/">Blog</a></li>
    <li><a class="py-3 text-base" id="work" href="/work/">Recent work</a></li>
    <li>
      <a class="py-3 text-base" id="experience" href="/experience/"
        >Experience</a
      >
    </li>
    <li>
      <a class="py-3 text-base" id="about" href="/about/">About me</a>
    </li>
  </ul>

  <div class="px-2 mt-5">
    <ContactButton class="w-full py-5 text-base" />
  </div>
</div>

<script
  define:vars={{
    sideBarActiveItemID,
    sidebarPreserveActiveItemHref,
    activeClass,
  }}
>
  const activeItemElem = document.getElementById(sideBarActiveItemID);

  if (activeItemElem) {
    activeItemElem.classList.add(activeClass);

    if (!sidebarPreserveActiveItemHref) {
      activeItemElem.removeAttribute("href");
    }
  }
</script>
